<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Open Trivia
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Open Trivia</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <ion-list id="form" *ngIf="!beginGame">
      <ion-item>
        <ion-label position="floating">Your pseudo</ion-label>

        <ion-input type="text" placeholder="Your pseudo" [(ngModel)]="pseudo"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Difficulty</ion-label>
        <ion-select [(ngModel)]="difficulty">
          <ion-select-option value="Easy">Easy</ion-select-option>
          <ion-select-option value="Medium">Medium</ion-select-option>
          <ion-select-option value="Hard">Hard</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-toggle></ion-toggle>
        <ion-label> Remember my informations</ion-label>
      </ion-item>

      <ion-button expand="full" (click)="StartGame()">Let's play!</ion-button>

      <div *ngIf="error">
        <p id="error"> {{error}} </p>
      </div>
    </ion-list>

    <ion-card id="form" *ngIf="beginGame">
      <p>Welcome <span>{{pseudo}}</span></p>

      <h3 class="ion-text-center" *ngIf="questionCourante">{{ questionCourante.question }} </h3>

      <ion-grid *ngIf="questionCourante && questionCourante.answers">

        <ion-row>

          <ion-col size="6" *ngFor="let answer of questionCourante.answers">

            <ion-button color="transparent" (click)="reponse(answer)" expand="full"
              [ngClass]="{'good' : nextQuestion && answer.correct, 'bad' : nextQuestion && !answer.correct, unknown: !nextQuestion}">
              {{ answer.answer }}</ion-button>

          </ion-col>
        </ion-row>

      </ion-grid>
    </ion-card>


    <div *ngIf="nextQuestion && !endGame">
      <ion-button (click)="nextQtion()" color="medium">Next question</ion-button>
    </div>

    <div *ngIf="nextQuestion && endGame">
      <ion-button (click)="return()" color="medium">My score</ion-button>
    </div>
  </div>
</ion-content>